%h3
  = @league.name
  = @league.start_date.year
%h3 Post Draft Visualization Board

%ul.button-group
  - %w(yahoo_adp ecr_standard ecr_ppr).each do |ranking_type|
    %li
      - if @ranking_type == ranking_type
        %span.button.disabled
          vs.
          = ranking_type.humanize
      - else
        = link_to "vs. #{ranking_type.humanize}", draft_board_league_path(@league, ranking: ranking_type), class: "button"
  - if !current_user
    %li
      = link_to "Get your own draft visualized", root_path, class: "button alert"

%p This is a visualization of your draft. The colors represent the difference between where a player was picked, vs their ranking. Click the buttons above to compare draft picks against Yahoo's Average Draft Pick, or to #{link_to "Expert Consensus Rankings", "http://www.fantasypros.com/nfl/rankings/consensus-cheatsheets.php"} in either PPR or standard. For example, If Jamaal Charles was picked 3rd overall in your league but was ranked second, it would show up light green for being a late pick. Green picks are late picks against the ranking, where purple picks are reaches for players too early according to the ranking.

.draft-board
  %div.legend
    %span.good-5 25+
    %span.good-4 13-24
    %span.good-3 7-12
    %span.good-2 4-6
    %span.good-1 1-3
    %span.even Even
    %span.bad-1 1-3
    %span.bad-2 4-6
    %span.bad-3 7-12
    %span.bad-4 13-24
    %span.bad-5 25+
    %span.no-rank NA

  %table
    %thead
      %tr
        %th.round-number #
        - @picks.each do |(team, _)|
          %th= team.name
    %tbody
      - if !@picks.empty?
        - @picks.first.last.size.times do |i|
          %tr
            %td.round-number= i + 1
            - @picks.each do |(_, pick_infos)|
              - info = pick_infos[i]
              %td{class: ranking_class(info)}
                %div
                  = info.name
                %div
                  = info.actual_pick
                  vs
                  = info.rank_value
                %div
                  #{info.team_abbr} - #{info.position}

%br
%br
